<!doctype html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"><meta name="format-detection" content="telephone=no">
	<title>Draw SVG</title>
	<link rel="stylesheet" href="../plugin/seedsui/seedsui.min.css">
    
<style>
	#phone-solid{
		opacity:0;
		-webkit-transition-property:opacity;
		-webkit-transition-duration:1s;
		width:100%;
		text-align: center;
		position: absolute;
		top:20px;
		left:0;
		height:100%;
	}
	#phone-solid .phone {
		width:220px;
		-webkit-transform:scale(1);
		-webkit-transition-property:scale;
		-webkit-transition-duration:5s;
	}
</style>
</head>

<body ontouchstart="">
<section class="active" id="page_shape">
	<header>
	    <div class="titlebar">
            <a href="javascript:history.go(-1)">
                <i class="icon icon-arrowleft"></i>
            </a>
            <h1>画SVG</h1>
        </div>
	</header>
	<article style="width:100%; background:#50A6FC; text-align:center;">
		<svg version="1.1" id="phoneOutline" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="300px" height="500px" viewBox="250 100 500 800" enable-background="new 250 100 500 800" xml:space="preserve">
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M627.75,882.65h-250.6c-30.2,0-54.7-24.5-54.7-54.7
				v-440.1h-1.8c-1.2,0-2.2-1-2.2-2.2v-21.9c0-1.2,1-2.2,2.2-2.2h1.8v-37.2h-1.8c-1.2,0-2.2-1-2.2-2.2v-21.9c0-1.2,1-2.2,2.2-2.2h1.8
				v-37.2h-1.8c-1.2,0-2.2-1-2.2-2.2v-30.6c0-1.2,1-2.2,2.2-2.2h1.8v-49.8c0-30.2,24.5-54.7,54.7-54.7h186.8v-1.8c0-1.2,1-2.2,2.2-2.2
				h54.7c1.2,0,2.2,1,2.2,2.2v1.8h4.8c30.2,0,54.7,24.5,54.7,54.7v651.9C682.45,858.15,657.95,882.65,627.75,882.65z"/>
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M674.65,175.65c0-25.6-20.8-46.4-46.4-46.4h-251.6
				c-25.6,0-46.4,20.8-46.4,46.4v652.8c0,25.6,20.8,46.4,46.4,46.4h251.6c25.6,0,46.4-20.8,46.4-46.4V175.65L674.65,175.65z"/>
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M656.65,778.95h-308.4c-1.9,0-3.5-1.6-3.5-3.5v-546
				c0-1.9,1.6-3.5,3.5-3.5h308.4c1.9,0,3.5,1.6,3.5,3.5v546C660.15,777.35,658.55,778.95,656.65,778.95z"/>
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M528.65,190.95h-52.5c-2.1,0-3.7-1.7-3.7-3.7
				c0-2.1,1.7-3.7,3.7-3.7h52.5c2.1,0,3.7,1.7,3.7,3.7C532.45,189.25,530.75,190.95,528.65,190.95z"/>
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M502.45,165.15c-3.7,0-6.8-3-6.8-6.8
				c0-3.7,3-6.8,6.8-6.8c3.7,0,6.8,3,6.8,6.8C509.25,162.15,506.15,165.15,502.45,165.15z"/>
			<path fill="none" stroke="#ffffff" stroke-width="3" stroke-miterlimit="10" d="M502.45,795.55c18,0,32.6,14.6,32.6,32.6
				s-14.6,32.6-32.6,32.6c-18,0-32.6-14.6-32.6-32.6S484.45,795.55,502.45,795.55z"/>
			<path fill="none" id="phone-line1" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M627.75,882.65h-250.6c-30.2,0-54.7-24.5-54.7-54.7
				v-440.1h-1.8c-1.2,0-2.2-1-2.2-2.2v-21.9c0-1.2,1-2.2,2.2-2.2h1.8v-37.2h-1.8c-1.2,0-2.2-1-2.2-2.2v-21.9c0-1.2,1-2.2,2.2-2.2h1.8
				v-37.2h-1.8c-1.2,0-2.2-1-2.2-2.2v-30.6c0-1.2,1-2.2,2.2-2.2h1.8v-49.8c0-30.2,24.5-54.7,54.7-54.7h186.8v-1.8c0-1.2,1-2.2,2.2-2.2
				h54.7c1.2,0,2.2,1,2.2,2.2v1.8h4.8c30.2,0,54.7,24.5,54.7,54.7v651.9C682.45,858.15,657.95,882.65,627.75,882.65z"/>
			<path fill="none" id="phone-line2" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M674.65,175.65c0-25.6-20.8-46.4-46.4-46.4h-251.6
				c-25.6,0-46.4,20.8-46.4,46.4v652.8c0,25.6,20.8,46.4,46.4,46.4h251.6c25.6,0,46.4-20.8,46.4-46.4V175.65L674.65,175.65z"/>
			<path fill="none" id="phone-line3" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M656.65,778.95h-308.4c-1.9,0-3.5-1.6-3.5-3.5v-546
				c0-1.9,1.6-3.5,3.5-3.5h308.4c1.9,0,3.5,1.6,3.5,3.5v546C660.15,777.35,658.55,778.95,656.65,778.95z"/>
			<path fill="none" id="phone-line4" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M528.65,190.95h-52.5c-2.1,0-3.7-1.7-3.7-3.7
				c0-2.1,1.7-3.7,3.7-3.7h52.5c2.1,0,3.7,1.7,3.7,3.7C532.45,189.25,530.75,190.95,528.65,190.95z"/>
			<path fill="none" id="phone-line5" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M502.45,165.15c-3.7,0-6.8-3-6.8-6.8
				c0-3.7,3-6.8,6.8-6.8c3.7,0,6.8,3,6.8,6.8C509.25,162.15,506.15,165.15,502.45,165.15z"/>
			<path fill="none" id="phone-line6" stroke="#50A6FC" stroke-width="5" stroke-miterlimit="10" d="M502.45,795.55c18,0,32.6,14.6,32.6,32.6
				s-14.6,32.6-32.6,32.6c-18,0-32.6-14.6-32.6-32.6S484.45,795.55,502.45,795.55z"/>
		</svg>
		<div id="phone-solid">
			<img src="../img/components/iphone5.png" class="phone">
		</div>
	</article>
</section>

<script src="../plugin/jquery/jquery.min.js"></script>
<script src="../plugin/segment/segment.min.js"></script>
<script>
	//定义exmobi返回
	function drawPhone(){
		var path1 = document.getElementById("phone-line1"),
		path2 = document.getElementById("phone-line2"),
		path3 = document.getElementById("phone-line3"),
		path4 = document.getElementById("phone-line4"),
		path5 = document.getElementById("phone-line5"),
		path6 = document.getElementById("phone-line6"),
	    segment1 = new Segment(path1),
	    segment2 = new Segment(path2),
	    segment3 = new Segment(path3),
	    segment4 = new Segment(path4),
	    segment5 = new Segment(path5),
	    segment6 = new Segment(path6);
	    	
		segment1.draw("0%", "0%", 2);
		segment2.draw("0%", "0%", 2);
		segment3.draw("0%", "0%", 2);
		segment4.draw("0%", "0%", 1, {delay:1});
		segment5.draw("0%", "0%", 1, {delay:1});
		segment6.draw("0%", "0%", 1, {delay:1, callback: showPhone});
	}
	var phone=document.querySelector(".phone");
	var phoneSolid=document.getElementById("phone-solid");
	phoneSolid.addEventListener("webkitTransitionEnd",transitionEnd,false);
	var phoneOutline=document.getElementById("phoneOutline");
	function showPhone(){
		/*var zoomIn = function(){
			phone.style.webkitTransition="all 5s";
			phone.style.WebkitTransform="scale(50)";
		}
		$(".phone-solid").fadeIn(1000,zoomIn);
		$("#phoneOutline").fadeOut();*/
		phoneSolid.style.opacity="1";
	}
	function transitionEnd(e){
		if(e.target==phoneSolid){
			phone.style.WebkitTransform="scale(50)";
		}
		console.log(e.target);
	}

	function back(){history.go(-1);}
	window.addEventListener("load",function(){
		drawPhone();
	})
</script>
</body>
</html>
