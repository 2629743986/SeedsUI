<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<title>tree</title>
	<link rel="stylesheet" href="../plugin/seedsui/seedsui.min.css">
	
</head>

<body>
	<section id="page_tree" class="active">
		<header>
		    <div class="titlebar">
		    	<a href="javascript:history.go(-1)" class="left">
		            <i class="icon-arrowleft"></i>
		        </a>
		        <h1>树结构</h1>
		    </div>
		</header>
		<article style="top:52px;">
			<!--
			<div class="tree-box">
			<ul class="tree" id="tree">
				从此处注入数据，格式为:
				如果有子节点：
				<li>
					<div class="treetitle">
						<i class="treeicon icon-arrowright"></i>
						<a class="icontitle events-none">名称</a>
						<small class="right middle events-none">人数</small>
					</div>
					
					<ul>...</ul>
				</li>
				如果没有子节点：
				<li>
					<div class="treetitle">
						<i class="treeicon icon-arrowright"></i>
						<a class="icontitle events-none">名称</a>
						<small class="right middle events-none">人数</small>
					</div>
				</li>
			</ul>
			</div>
			-->
			<div class="tree-box">
				<ul class="tree" id="tree">
					<li>
						<div class="treetitle"> <i class="treeicon icon-arrowright"></i>
							<a class="icontitle events-none">业务产品部</a>
							<small class="right middle events-none">100</small>
						</div>
						<ul>
							<li>
								<div class="treetitle">
									<i class="treeicon icon-arrowright"></i>
									<a class="icontitle events-none">研发体系</a>
									<small class="right middle events-none">100</small>
								</div>
								<ul>
									<li>
										<div class="treetitle">
											<i class="treeicon icon-arrowright"></i>
											<a class="icontitle events-none">开发一部</a>
											<small class="right middle events-none">100</small>
										</div>
										<ul>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">波</i>
													<a class="icontitle events-none">成少波</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">晓</i>
													<a class="icontitle events-none">王晓</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">健</i>
													<a class="icontitle events-none">李健</a>
												</div>
											</li>
										</ul>
									</li>
									<li>
										<div class="treetitle">
											<i class="treeicon icon-arrowright"></i>
											<a class="icontitle events-none">开发二部</a>
											<small class="right middle events-none">100</small>
										</div>
										<ul>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">泉</i>
													<a class="icontitle events-none">张泉</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon icon-arrowright round"></i>
													<a class="icontitle events-none">李若景</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">源</i>
													<a class="icontitle events-none">康根源</a>
												</div>
											</li>
										</ul>
									</li>
									<li>
										<div class="treetitle">
											<i class="treeicon icon-arrowright lastchild"></i>
											<a class="icontitle events-none">开发三部</a>
											<small class="right middle events-none">100</small>
										</div>
										<ul>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">波</i>
													<a class="icontitle events-none">成少波</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">东</i>
													<a class="icontitle events-none">张建东</a>
												</div>
											</li>
											<li>
												<div class="treetitle lastchild">
													<i class="treeicon round">进</i>
													<a class="icontitle events-none">李进</a>
												</div>
											</li>
										</ul>
									</li>
								</ul>
							</li>
							<li>
								<div class="treetitle">
									<i class="treeicon icon-arrowright"></i>
									<a class="icontitle events-none">研发二部</a>
									<small class="right middle events-none">100</small>
								</div>
								<ul>
									<li>
										<div class="treetitle lastchild">
											<i class="treeicon round">梅</i>
											<a class="icontitle events-none">许啸梅</a>
										</div>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</article>
	</section>
	
	<script src="../plugin/jquery/jquery.min.js"></script>
	<script src="../plugin/seedsui/seedsui.min.js"></script>
	<script>
	var tree=document.getElementById("tree");//树容器
	function onTapTree(){
		EventUtil.addHandler(tree,"tap",function(e){
			var target=e.target,elLI,elIcon,elChildUL;
			//当点击标题时，展开与收缩树
            if(target.className.indexOf("treetitle")>=0){
                elLI=e.target.parentNode;
            } else if(target.className.indexOf("treeicon")>=0){
                elLI=e.target.parentNode.parentNode;
            }
            elIcon=elLI.querySelector(".treeicon");
            elChildUL=elLI.querySelector("ul");
            if(!elChildUL){
                //没有子节点
                return;
            }
            //展开与收缩树
            if(elChildUL.style.display=="none" || !elChildUL.style.display){
                //展开
                elIcon.classList.add("active");
                elChildUL.style.display="block";
            }else{
                //收缩
                elIcon.classList.remove("active");
                elChildUL.style.display="none";
            }
		});
	}
	window.addEventListener("load",function(e){
		onTapTree();
		//根据姓氏获得颜色
		//console.log("成少波".toPinyin().substr(0,1).toColor());
	},false);
	//定义exmobi返回
	function back(){history.go(-1);}
	</script>
</body>
</html>
